# GenshinMidiPublic
GenshinMidi - проект цель которого предоставить комфортную студию для создания музыки.
Здесь со временем реализуются возможности создания мелодий которые можно без особых преобразований использовать сыграть самостоятельно или воспользовавшись внутринними функциями студии послушать звучание внутри игры.

## Пользовательское руководство
Для удобства разбиито на разделы:
- [Интерфейс проигрывателя](https://github.com/10-13/GenshinMidiPublic/edit/main/README.md#%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%BF%D1%80%D0%BE%D0%B8%D0%B3%D1%80%D1%8B%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F)
- [Интерфейс редактора строк](https://github.com/10-13/GenshinMidiPublic/edit/main/README.md#%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80%D0%B0-%D1%81%D1%82%D1%80%D0%BE%D0%BA)
- Интерфейс редактора нот

В каждом разделе будет рассмотренно одно из окон, которые мы будем встречать

### Интерфейс проигрывателя
![image](https://github.com/10-13/GenshinMidiPublic/assets/103519265/c6ee80d7-6f7b-4870-9d3b-79e4b4a2a0d3)

Нажав правую кнопку мыши вы можете переключить проигрыватель с мыши (клик клик по кнопкам арфы) на вcтроенные звуки (работают криво).

В нем можно выделить следующие детали:
- Панель проигрывания(1)
- Настройки проигрываения(2)
- Средства работы с проектами(3)

В панели проигрывания нажав в синюю зону можно включить проигрывание активного трека, нажав на желтую зону можно получить окно верхнего уровня, которое буджет всегда видно на котором будет отабражена такая-же панель проигрывания. Также панель проигрывания отображает какая часть трека уже прошла (как и везде). 
!!! Проигрывание можно остановить нажав любую кнопку на клавиатуре !!!

В настройках проигрывания можно выбрать начало и конец отрезка который вы хотите проиграть (Begin и End соответственно). Для того чтобы указать редактору самому найти начало и конец можно использовать -1.
Repeat указывает сколько раз композиция будет сыграна на повторе пока не остановится воспроизведение автоматически.
BPM указывает сколько нот в минуту будет сыграно. Значение выше 400 нельзя установить.
ON - включит все дорожки. OFF - выключит все дорожки. (Считаются устаревшими, соответствующий функционал есть в редакторе строк)

В средствах работы с проектами есть 4 кнопки. 
- Edit отправит нас к редактору строк
- New project создаст новый проект при этом старый проект даже если был сохранен будет повторно сохранен в папку с приложением с временной меткой вместо имени
- Load и Save позволяют нам загрузить и сохранить проект соответственно

### Интерфейс редактора строк
![image](https://github.com/10-13/GenshinMidiPublic/assets/103519265/a0695d8f-2266-4629-a015-bf4746ed3971)

Тут все условно можно поделить на две области:
- Кнопки действий
- Область перемещения

Кнопки действий позволяют либо перейти к редактору нот либо добавить новую строку. (Если нажать на кнопку с плюсом будет добавлена новая строка в конец всех существующих а не в место где был нажат +). Если у существующей строки кнопка действия горит ораньжевым, значит данная строка выключена и не учавствует в проигрывании в данный момент.

Область перемещения обладает следующим функционалом:
- Крутя колески вмыши вы будете перемещаться вверх-вниз. Для перемещения по времени зажмите Ctrl.
- Нажав на существующую строку вы выбирете ее. Если нажать на строку с зажатым Ctrl вы добавите ее к текущему выделению.
- Если зажать правую кнолпку мыши вы сможете перетаскивать выделенные строки, изменяя момент их начала.

Автор не фанат видимого интерфейса поэтому весь дополнительный функционал вынесен в контекстное меню (открывается по правой кнопке мыши). Также заранее предупреждаю что произвольная строка из выбранных значит что будет взята одна строка по непонятному принципу из тех что вы выбрали. Если выбрана одна строка то произвольной строкой всегда будет она.
- Play - проигрывание
  - Viseble - проиграть видимую часть редактора нот
  - All - проиграть копозицию в рамках заданных плеером
- ON|OFF
  - Включает выделенные
  - Выключает выделенные
  - Включает не выделенные
  - Выключает невыделенные
  - Включает только выделенные, остальные выключает
  - Выключает только выделенные, остальные включает
- Selection
  - Deselect - снимает выделение
  - Select all - выделяет все строки
- Settings
  - Veiw
    - Width - можно задать ширину области пермещения в нотах (меняется размер нот)
    - Height of row - задаем высоту одной строки в пикселях, при маленьких значениях могут перестать отображаться превью для нот
    - Width of note - задаем ширину ноты в пикселях для превьюшки
  - Drag
    - Drag scaler - Данный параметр отвечает за то чему кратны числа на которые мы можем перетягивать наши отрезки (по стандарту 8)
      - Set - Вручную меняем значение
      - x8 - задаем значенрие равным 8-ми
      - ...
      - 128 - задаем значение равным 128-ми
- Veiw
  - Restore focus - перемешает нас к нулевой строке и нулевой координате по времени
  - Focus on selected - перемещает нас к нулевому времени для произвольной выбранной строки
- Row
  - Duplicate selected - дублирует произвольную выбранную строку
  - Delete selected - удаляет произвольную выбранную строку
  - Merge selected - создает из выбранных строк новую в которую проецирует все ноты из всех выбранных
 
### Интерфейс редактора нот
![image](https://github.com/10-13/GenshinMidiPublic/assets/103519265/01c726ba-5078-4a21-9f36-e2403a358334)

У редактора нот мы имеем минимальный интерфейс. Нажимаем на ноты и они меняют состояние с выключенногоо на включенное и наоборот. Ораньжевым выделена колонка на которой остановился плеер.

Кастельно контекстного меню:
- Change begin - изменить начало дорожки (устарел, используйте редактор строк)
- Change row - изминить строку дорожки (устарело, используется для включения и выключения, вмесмто этого используйте редактор строк)
- Change length - извминить длинну строки (строка обрезается с конца а также очищает буффер выделения перед удалением)
- Unsize убирает трансформации размера превьюшки
- Play
  - All track - проиграть то что настроенно в плеере
  - That row timespan - часть трека в которой лежит это дороджка
  - Scaled row timespan - часть трека в которой лежит видимая часть дорожки

Далее есть некоторые клавиши которые повзоляют работать с выделением нот:
- Esc - перейти в режим выделения
- Ctrl + LMOUSE - выделите область чтобы выделить ее ноты (скопировать их в буффер выделения)Э
- LMOUSE - претащите выделение туджа куда вам нужно
- ARROWS - стрелакми можно подвигать выделение на 1 ноту если это необходимо
- A - применить ноты из выделения (все ноты под выделенными становятся активными)
- C - очистить выделение
- M - маскировать ноды выделения (все ноты под выделенными становятся не активными)

Также вместо нахзвания окна теперь видна информация об последнем действии:
- При движении мышью:
  - В квадратных скобках флаги (F - окно в фокусе управления, S - включен режим ыделения, С - Ctrl зажат)
  - За ними коорджинаты ноты на которую указывает мышь (учтите что верхняя левая нота это 0,0)
- При отпускании клавишь клавиатуры:
  - Последовательность нажатых клавишь
